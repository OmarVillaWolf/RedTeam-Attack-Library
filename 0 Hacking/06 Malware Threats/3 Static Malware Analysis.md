# Análisis de Malware Estático 

Tags: #Hacking #Malware #BinText #Ñ 

## Bin Text

```bash 
# Windows Tool 
❯ bintext.exe         # Ejecutar el programa para encontrar 'ASCII text, Unicode text, Resource strings , File POS, Mem POS' de un archivo. Es usado para extraer caracteres embebidos desde archivos ejecutables. 

Nota:
	1. Seleccionar el archivo a analizar
	2. Dar click en 'Go' 
	3. Utilizar el buscador para filtrar el texto a encontrar 


# Más Tools
❯ https://www.fireeye.com
❯ https://docs.microsoft.com
❯ https://www.resourceextract.com
❯ https://www.fileseek.ca
```

## Detect It Easy (DIE)

```bash 
# Windows Tool 
❯ DIE.exe      # Ejecutar el programa para analizar archivos ELF, tambien muestra el Entry Point Address, Offset, Relative address, Bytes, Signature, tamaño, MD5, SHA1, Entropía, Arquitectura

Nota: 
	1. Seleccionar el archivo a analizar
	2. Dar click en 'Scan'
	3. Se puede mirar 'Entropy, Hash, File info, etc...'
```

## Ghidra 

```bash 
# Windows Tool 
❯ ghidraRun.bat    # Ejecutar el programa para el desensamblado de malware y asi analizar un ELF ejecutable. Además de, mostrar Arquitectura, processadordiferentes datos de ELF, ejecutable MD5, SHA256

Nota:
	1. Crear un nuevo proyecto, seleccionar 'Non-Shared project' y darle un nombre 
	2. Seleccionar el archivo a importar y mirar la info que proporciona 
	3. Dar click en el archivo importado dentro de la herramienta 
	4. Dejar las opciones por defecto y da click em 'Analyze'
```

## PEid

```bash 
# Windows Tool 
❯ PEid.exe      # Ejecutar el programa el cual provee detalles de archivos ejecutables de Windows. Identifica firmas asociadas con alrededor de 600 paquetes y compiladores. Despliega el tipo de empaquetado usado para empaquetar el programa. Detecta paquetes comunes, cryptors y compiladores para archivos ejecutables PE. Muestra el 'Entry point, File Offset, First bytes...'

Nota: 
	1. Seleccionar el archivo a analizar
```

## PE Explorer 

```bash 
# Windows Tool 
❯ PE_Explorer.exe      # Ejecutamos el programa para encontrar info 'PE Portable Ejecutable Info' de malware en archivos portables como 'EXE, DLL y ActiveX Controls (SCR, CPL, SYS, MSSTYLES, BPL, DLP)'

Nota: 
	1. Seleccionar el archivo a analizar
	2. Mirar la info en los 'Headers'
	3. En 'Data Directories' se muestra la info de direcciones, tablas virtuales, etc... 
	4. En 'Section headers' se mira la info de la data 


# Más Tools
❯ https://tzworks.net
❯ https://www.angusj.com
❯ https://www.aldeid.com 
```

## Hibrid Analisys 

```bash 
# Web Tool 
❯ https://www.hybrid-analysis.com/

Nota: 
	1. Seleccionar el archivo a analizar 
	2. Seleccionar el entorno o SO en donde se ejecutará el virus 


# Más Tools
❯ https://valkyrie.comodo.com
❯ https://cuckoosandbox.org
❯ https://virusscan.jotti.org
❯ https://cloud.iobit.com
```

## Dependecy Walker 

```bash 
# Windows Tool 
❯ PE_Explorer.exe      # Ejecutar el programa para identificar las dependencias 'DLLs'

Nota:
	1. Seleccionar el archivo a analizar 
	2. Se puede mirar la funciones de las librerias que se invocan


# Más Tools
❯ Dependency-Check en https://jeremylong.github.com
❯ https://snyk.io
❯ RetireJS en https://retirejs.github.com
```

## IDA y OllyDbg

```bash 
# Windows Tool 
❯ IDA.exe         # Ejecutar el programa para mirar el desensamblado de malware 

Nota:
	1. Dar click 'NEW' y seleccionar un archivo 
	2. Mirar la estructura en ensamblador 
```

```bash 
# Windows Tool 
❯ OllyDbg.exe         # Ejecutar el programa 

Nota:
	1. Seleccionar el archivo a analizar 
	2. En 'log' muestra los pasos de lo que sucede al ejecutarlo 
	3. En 'executable modules' se puedern ver los DLLs 
	4. En 'memory' se muestra el mapa de memoria 
```

