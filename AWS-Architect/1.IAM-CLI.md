# AWS IAM y CLI

Tags: #AWS #CLI #IAM

Al momento de crear una cuenta en AWS con nuestro correo, automáticamente se nos crea un usuario **Root**. Esta cuenta Root no debe de ser compartida con nadie. 
* Puede ser usado a nivel Global
* Podemos usar **IAM** para crear un usuario que tenga los mismos privilegios que el usuario Root. 
* Podemos crear un grupo que se llame **Admin** en donde podemos agregar usuario que serian Root.

![](Pasted%20image%2020230528151651.png)

* Los usuarios no necesariamente, deben de estar en un grupo especifico
* Los usuarios pueden compartir grupos

Podemos crear un **Alias** y este seria el dominio de todas las cuentas de AWS que vayamos creando en el futuro.

![](Pasted%20image%2020230528151857.png)

Al momento de iniciar sesion con un usuario, debemos de usar este **Account Alias** y después colocar el nombre del usuario creado anteriormente, así como su passwd.

![](Pasted%20image%2020230528152038.png)


Una vez dentro de la consola de aws podremos ver el **User + Dominio o Alias**. 

![](Pasted%20image%2020230528152234.png)

![](Pasted%20image%2020230528152323.png)


Todos los usuarios que creemos, compartirán el mismo dominio anteriormente creado. 


Para configurar el MFA lo hacemos para la cuenta **Root > IAM > Dahsboard** y podemos usar la app llamada 'Auth' para poder generar los Token MFA. Además, el usuario Root deberá de activar a cada usuario IAM el MFA.

![](Pasted%20image%2020230529132711.png)


Podemos acceder a AWS mediante la CLI. 
Debemos de ir al usuario al que le generaremos las claves de acceso para su CLI, después seguiremos los pasos de la siguiente pag. web para poder instalar aws en su SO. 
* [AWS-CLI](https://docs.aws.amazon.com/es_es/cli/latest/userguide/getting-started-install.html)
Una vez instalada, podemos ingresar el siguiente comando:
```bash 
❯ aws --version          # Verificamos que nos salga la version de aws y es ahi donde aws se ha instalado correctamente
❯ aws configure          # Ingresar el access key y el secret key del usuario que utilizara la CLI
❯ aws iam list-users     # Ver si el usuario agregado puede desplegar contenido de AWS en este caso la lista de usuarios,  esto dependera de sus politicas asignadas
```

![](Pasted%20image%2020230529134131.png)


La tercer forma de ingresar a AWS es por CloudShell. CloudShell funciona similar a CLI, ya que depende de las políticas de cada usuario el poder desplegar o no la información.
* Puede ser usado a nivel de Regiones 
* Podemos usar algunos comandos Linux
* Podemos realizar acciones como 'Descargar o Cargar un archivo', etc...

![](Pasted%20image%2020230529135304.png)

![](Pasted%20image%2020230529135733.png)






